
<div class="busqueda">
  <input type="text" placeholder="Buscar repuesto" [(ngModel)]="filtro">
  <button class="btn-pedido" (click)="abrirModal()">Hacer pedido</button>
</div>

<div class="grid">
  <div class="card" *ngFor="let repuesto of repuestosFiltrados" 
       (click)="toggleSeleccion(repuesto)" [class.selected]="repuesto.selected">
    <img [src]="'http://localhost:3000'+repuesto.imagen" alt="Foto">
    <h3>{{ repuesto.nombre }}</h3>
    <p>Marca: {{ repuesto.marca }}</p>
    <p>{{ repuesto.descripcion }}</p>
    <p class="precio">S/ {{ repuesto.precio }}</p>

    <!-- Checkbox abajo -->
    <div class="checkbox-container">
      <input type="checkbox" [checked]="repuesto.selected" 
             (click)="$event.stopPropagation(); toggleSeleccion(repuesto)">
      <label>Seleccionar</label>
    </div>
  </div>
</div>

<!-- Modal para detalles -->
<div class="modal" *ngIf="repuestoSeleccionado">
  <div class="modal-content">
    <span class="cerrar" (click)="cerrarModal()">&times;</span>
    <app-detalle-repuesto [repuestos]="repuestosSeleccionados"></app-detalle-repuesto>
  </div>
</div>
